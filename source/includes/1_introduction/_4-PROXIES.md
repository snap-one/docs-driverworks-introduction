#  Understanding the Role of Proxies and the Proxy Driver

A Proxy Driver is the interface to the Control4 system for a class of devices that have common functionality. For instance, most Audio Receivers have common controls such as ON, OFF, MUTE, LOUDNESS, etc. The Control4 Receiver Proxy represents a predefined interface for your use. This interface includes a command set, referred to as Proxy Commands, that you will implement in your device driver to control a device. For example, when a Control4 end user decides to turn On the receiver from a Control4 remote or touch panel, the Receiver Proxy’s ON Command is executed. Proxies are pre-defined and supplied by Control4. They cannot be edited.

Control4 Proxies also include a set of predefined responses that the proxy expects to receive from your device after it receives a command. These are referred to as Protocol Notifications.  When implemented properly, the Notification passes through the Proxy and updates the Control4 user interfaces with the new state of the device. Continuing with our Receiver example, after the user selects On, the ON Proxy Command is sent to the device, the receiver turns on and sends the ON Protocol Notification to the proxy and ultimately the user interfaces which display the receiver as being on.

It’s worth noting that If you want to use one of the existing interfaces provided in the Control4 Navigator you’ll need to select a proxy type that is already defined within the Control4 system. 

If you don’t need a standard Navigator interface, you can create a driver without a Proxy Interface. If you choose to do this your driver will still work within the Control4 system but your customers’ interactions with the system will be limited to what you implement using Control4 programming through commands and events. This method could be used to implement functionality initiated by custom buttons or keypad presses.

In summary, the device driver you are developing interacts with the Proxy driver which then interacts with the system.  Control4 provides proxies to serve as a layer that exists between Director and unique device drivers. As a driver developer you will be relying on this proxy layer to provide status (Protocol Notifications) to the Control4 system for the device you are controlling.  You will also receive commands (Proxy Commands)from the system that you will act on to control the device.  These commands and notifications are at the heart of what you will be implementing in your driver.  Essentially your driver is becoming the go-between from the Control4 system and your device with the Proxy driver giving structure to the Commands and Notifications which you will be implementing.

Control4’s Director application sends information to and receives information from the Proxy drivers. The Proxy driver sends information to and receives information from the Protocol drivers. As a driver developer, you'll combine these within your device-specific driver file to deliver the custom code necessary to implement the 2-way device driver.